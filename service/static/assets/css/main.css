:root {
  --primary: #1e3a8a;
  --secondary: #475569;
  --accent: #0f766e;
  --success: #15803d;
  --warning: #4b5563;
  --danger: #b91c1c;
  --bg: #f8fafc;
  --surface: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --border: #cbd5e1;

  /* Bootstrap color system mapping */
  --bs-primary: var(--primary);
  --bs-secondary: var(--secondary);
  --bs-success: var(--success);
  --bs-warning: var(--warning);
  --bs-danger: var(--danger);
  --bs-primary-rgb: 30, 58, 138;
  --bs-secondary-rgb: 71, 85, 105;
  --bs-success-rgb: 21, 128, 61;
  --bs-warning-rgb: 75, 85, 99;
  --bs-danger-rgb: 185, 28, 28;
  --bs-body-bg: var(--bg);
  --bs-body-color: var(--text);
  --bs-secondary-color: var(--muted);
  --bs-border-color: var(--border);
  --bs-primary-bg-subtle: #e8effd;
  --bs-primary-border-subtle: #c8d5f6;
  --bs-primary-text-emphasis: #12255a;
  --bs-secondary-bg-subtle: #eef2f7;
  --bs-secondary-border-subtle: #ced8e4;
  --bs-secondary-text-emphasis: #334155;
  --bs-success-bg-subtle: #eaf7ef;
  --bs-success-border-subtle: #b6e3c2;
  --bs-success-text-emphasis: #0f3b1f;
  --bs-warning-bg-subtle: #e5e7eb;
  --bs-warning-border-subtle: #cbd5e1;
  --bs-warning-text-emphasis: #1f2937;
  --bs-danger-bg-subtle: #fdecec;
  --bs-danger-border-subtle: #f7c2c2;
  --bs-danger-text-emphasis: #5f1212;
  --bs-tertiary-bg: #eef2f7;
  --bs-secondary-bg: #f1f5f9;
}

body {
  background-color: var(--bg);
  color: var(--text);
}

a {
  color: var(--primary);
}

a:hover,
a:focus-visible {
  color: #172e71;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text);
}

.navbar {
  --bs-navbar-bg: var(--surface);
  --bs-navbar-color: var(--secondary);
  --bs-navbar-hover-color: var(--primary);
  --bs-navbar-active-color: var(--primary);
  --bs-navbar-brand-color: var(--primary);
  --bs-navbar-brand-hover-color: #172e71;
  --bs-navbar-toggler-border-color: var(--border);
  --bs-navbar-toggler-icon-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2815,23,42,0.85%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  background-color: var(--bs-navbar-bg);
  border-bottom: 1px solid var(--border);
}

.navbar .nav-link.active {
  font-weight: 600;
}

.btn-primary {
  --bs-btn-bg: var(--primary);
  --bs-btn-border-color: var(--primary);
  --bs-btn-hover-bg: #172e71;
  --bs-btn-hover-border-color: #172e71;
  --bs-btn-active-bg: #13285f;
  --bs-btn-active-border-color: #13285f;
}

.btn-secondary {
  --bs-btn-bg: var(--secondary);
  --bs-btn-border-color: var(--secondary);
  --bs-btn-hover-bg: #3a4758;
  --bs-btn-hover-border-color: #3a4758;
  --bs-btn-active-bg: #303b4a;
  --bs-btn-active-border-color: #303b4a;
}

.btn-success {
  --bs-btn-bg: var(--success);
  --bs-btn-border-color: var(--success);
}

.btn-warning {
  --bs-btn-bg: var(--warning);
  --bs-btn-border-color: var(--warning);
  --bs-btn-color: #ffffff;
  --bs-btn-hover-color: #ffffff;
}

.btn-danger {
  --bs-btn-bg: var(--danger);
  --bs-btn-border-color: var(--danger);
}

.btn-outline-primary {
  --bs-btn-color: var(--primary);
  --bs-btn-border-color: var(--primary);
  --bs-btn-hover-bg: var(--primary);
  --bs-btn-hover-border-color: var(--primary);
  --bs-btn-active-bg: #172e71;
  --bs-btn-active-border-color: #172e71;
}

.btn-outline-secondary {
  --bs-btn-color: var(--secondary);
  --bs-btn-border-color: var(--secondary);
  --bs-btn-hover-bg: var(--secondary);
  --bs-btn-hover-border-color: var(--secondary);
}

.btn-outline-success {
  --bs-btn-color: var(--success);
  --bs-btn-border-color: var(--success);
  --bs-btn-hover-bg: var(--success);
  --bs-btn-hover-border-color: var(--success);
}

.btn-outline-warning {
  --bs-btn-color: var(--warning);
  --bs-btn-border-color: var(--warning);
  --bs-btn-hover-bg: var(--warning);
  --bs-btn-hover-border-color: var(--warning);
  --bs-btn-hover-color: #ffffff;
  --bs-btn-active-color: #ffffff;
}

.btn-outline-danger {
  --bs-btn-color: var(--danger);
  --bs-btn-border-color: var(--danger);
  --bs-btn-hover-bg: var(--danger);
  --bs-btn-hover-border-color: var(--danger);
}

.alert-success {
  --bs-alert-color: #0f3b1f;
  --bs-alert-bg: #eaf7ef;
  --bs-alert-border-color: #b6e3c2;
}

.alert-danger {
  --bs-alert-color: #5f1212;
  --bs-alert-bg: #fdecec;
  --bs-alert-border-color: #f7c2c2;
}

.alert-info {
  --bs-alert-color: #0f3f52;
  --bs-alert-bg: #e7f5fb;
  --bs-alert-border-color: #b6e2f5;
}

.badge.bg-secondary {
  --bs-badge-bg: var(--secondary);
}

.badge.bg-success {
  --bs-badge-bg: var(--success);
}

.card,
.table,
.form-control,
.form-select,
.input-group-text {
  background-color: var(--surface);
}

.card,
.table,
.form-control,
.form-select,
.input-group-text {
  border-color: var(--border);
}

.table {
  --bs-table-bg: var(--surface);
  --bs-table-color: var(--text);
  --bs-table-border-color: var(--border);
  --bs-table-striped-bg: #f5f8fc;
}

.table-light {
  --bs-table-bg: #eef2f7;
  --bs-table-color: var(--text);
}

.form-control,
.form-select {
  color: var(--text);
}

.form-control::placeholder {
  color: var(--muted);
}

.form-control:focus,
.form-select:focus,
.btn:focus-visible,
a:focus-visible {
  border-color: var(--accent);
  box-shadow: 0 0 0 0.25rem rgba(15, 118, 110, 0.2);
}

/* Shared utility classes used by template markup */
.content-max-720 {
  max-width: 720px;
  width: 100%;
}

.upload-statements-page {
  margin-top: 10vh;
}

.upload-column-file,
.upload-column-contact {
  width: 45%;
}

.upload-column-actions {
  width: 10%;
}

.configs-xero-column-example {
  width: 55%;
}

.configs-xero-column {
  width: 60%;
}

.config-contact-input {
  min-width: 320px;
}

/* Statements list page polish */
.statements-page h1 {
  color: var(--primary);
}

.statements-table tbody tr:hover td {
  background-color: var(--bs-primary-bg-subtle);
}

.statements-page-toggle {
  padding-bottom: 2rem;
}

/* Statement detail page polish */
.statement-legend {
  color: var(--muted) !important;
}

.statement-legend .legend-item.text-dark {
  color: var(--text) !important;
}

.statement-table tbody tr.table-success td {
  background-color: #c6efce;
  color: #0f3b1f;
}

.statement-table tbody tr.table-danger td {
  background-color: #cd5c5c;
  color: #7f1d1d;
}

.statement-table tbody tr.table-warning td,
.statement-table tbody tr.anomaly-row td {
  background-color: #ffeb9c;
  color: #713f12;
}

.statement-legend .legend-swatch.bg-success {
  background-color: #c6efce !important;
}

.statement-legend .legend-swatch.bg-danger {
  background-color: #cd5c5c !important;
}

.statement-legend .legend-swatch.bg-warning {
  background-color: #ffeb9c !important;
}

/* Statement comparison table container */
.statement-table-wrapper {
width: 100%;
max-width: 1200px;
margin: 0 auto;
}

/* Keep the comparison table constrained within the page */
.table-compare {
table-layout: auto;
width: 100%;
max-width: 100%;
--split-border: 6px solid var(--bs-border-color);
}

/* Split border between Statement and Xero halves */
.table-compare thead tr:first-child th.split-right { border-right: var(--split-border); }
.table-compare thead tr:last-child th.split-right  { border-right: var(--split-border); }
.table-compare tbody td.split-right                { border-right: var(--split-border); }

/* General cell text behavior */
.table-compare th, .table-compare td {
vertical-align: middle;
word-break: normal;        /* stop per-letter breaks */
overflow-wrap: anywhere;   /* allow wrap when needed */
hyphens: auto;             /* nicer hyphenation where supported */
white-space: normal;
}

/* Reasonable minimum widths per column */
.col-type     { min-width: 6ch; white-space: nowrap; }
.col-credit   { min-width: 7ch; white-space: nowrap; }

.statement-filter-group {
  margin-top: 0.5rem;
}

.statement-legend .legend-swatch {
display: inline-block;
width: 14px;
height: 14px;
border-radius: 2px;
border: 1px solid rgba(0, 0, 0, 0.15);
}

.statement-legend .legend-swatch.bg-warning {
border-color: rgba(0, 0, 0, 0.05);
}

.legend-swatch-faded {
background-color: var(--bs-secondary-bg);
opacity: 0.6;
}

.anomaly-row td {
  position: relative;
}

.cell-indicator,
.legend-indicator {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 0;
  width: 1.2rem;
  height: 1.2rem;
  border-radius: 999px;
  background-color: var(--bs-danger);
  color: #fff;
  font-size: 0.75rem;
  font-weight: 700;
  line-height: 1;
}

.cell-value-wrapper {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  max-width: 18ch;
  vertical-align: middle;
}

/* Statement comparison table cells tend to run wider */
.table-compare .cell-value-wrapper { max-width: 20ch; }

.cell-value-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
  flex: 1 1 auto;
}
